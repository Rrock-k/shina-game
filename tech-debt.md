# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ (Tech Debt)

## üîÑ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
- **–ü–µ—Ä–µ–Ω–æ—Å —Ñ—É–Ω–∫—Ü–∏–∏ `updateCar()`**: –§—É–Ω–∫—Ü–∏—è `updateCar()` —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ `main.js` –≤ `Game.js` –∫–∞–∫ –º–µ—Ç–æ–¥ `_updateCar()`
- **–£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ `setupWorld()`**: –§—É–Ω–∫—Ü–∏—è `setupWorld()` –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ `main.js`, —Ç–∞–∫ –∫–∞–∫ –ø–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ `Game.js` –∫–∞–∫ `_setupWorld()`
- **–£–ø—Ä–æ—â–µ–Ω–∏–µ main.js**: main.js —Å–æ–∫—Ä–∞—Ç–∏–ª—Å—è —Å 808 –¥–æ 10 —Å—Ç—Ä–æ–∫ ‚úÖ (99% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ!)
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏**: –í—Å—è –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–∞—à–∏–Ω—ã —Ç–µ–ø–µ—Ä—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –∫–ª–∞—Å—Å–µ Game
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å–≤–µ—Ç–æ—Ñ–æ—Ä–æ–≤**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π –º–∞—à–∏–Ω—ã –Ω–∞ –∫—Ä–∞—Å–Ω—ã—Ö —Å–≤–µ—Ç–æ—Ñ–æ—Ä–∞—Ö
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ `intersectionKeyToTL` –≤ `_setupWorld()`
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `TRAFFIC_LIGHTS_CONFIG`
  - –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_createTrafficLightsForAllIntersections()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
  - –ú–∞—à–∏–Ω–∞ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –∫—Ä–∞—Å–Ω—ã—Ö –∏ –ø—Ä–æ–µ–∑–∂–∞–µ—Ç –Ω–∞ –∑–µ–ª–µ–Ω—ã—Ö
- **–ü–µ—Ä–µ–Ω–æ—Å —Ñ—É–Ω–∫—Ü–∏–π –æ—Ç–ª–∞–¥–∫–∏**: `debugLog()` –∏ `debugLogAlways()` –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `Game.js` –∫–∞–∫ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `init()` –≤ `Game.js` –¥–ª—è –≤—Å–µ–π –ª–æ–≥–∏–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- **–ß–∏—Å—Ç–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞**: main.js —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –∏–º–ø–æ—Ä—Ç—ã, —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏ –∑–∞–ø—É—Å–∫

### üü° –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –±—É–¥—É—â–µ–≥–æ

#### 1. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–ü—Ä–æ–±–ª–µ–º–∞**: –í `Game.js` –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `window.*`
- **–§–∞–π–ª—ã**: `src/game/Game.js` (–º–µ—Ç–æ–¥—ã `updateEntities`, `_updateCar`, `_createCar`)
- **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**: `window.carTrafficController`, `window.pathBuilder`, `window.carRenderer`, `window.intersectionKeyToTL`, `window.debugLog`, `window.debugLogAlways`, `window.debugInfo`, `window.currentRouteIndex`, `window.savedCarState`, `window.zoneGeometry`
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∏–ª–∏ –º–µ—Ç–æ–¥–æ–≤

#### 2. –£–ø—Ä–æ—â–µ–Ω–∏–µ main.js –¥–æ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
- **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: 10 —Å—Ç—Ä–æ–∫ (–±—ã–ª–æ 808) ‚úÖ
- **–¶–µ–ª—å**: < 10 —Å—Ç—Ä–æ–∫ (—Ç–æ–ª—å–∫–æ –∏–º–ø–æ—Ä—Ç—ã –∏ `const game = new Game(); game.start();`) ‚úÖ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: main.js —Ç–µ–ø–µ—Ä—å —á–∏—Å—Ç–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤ `Game.init()`

#### 3. –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–≤–µ—Ç–æ—Ñ–æ—Ä–æ–≤ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
- **–ü—Ä–æ–±–ª–µ–º–∞**: `TRAFFIC_LIGHTS_CONFIG` –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `main.js` ‚úÖ
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–ª–∏ –≤ –∫–ª–∞—Å—Å Game ‚úÖ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–≤–µ—Ç–æ—Ñ–æ—Ä–æ–≤ —Ç–µ–ø–µ—Ä—å –≤ –º–µ—Ç–æ–¥–µ `init()` –∫–ª–∞—Å—Å–∞ `Game`

#### 4. –£–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ä–µ–Ω–¥–µ—Ä–µ—Ä–æ–≤ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
- **–ü—Ä–æ–±–ª–µ–º–∞**: –†–µ–Ω–¥–µ—Ä–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö (Game.js –∏ main.js) ‚úÖ
- **–†–µ—à–µ–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ–Ω–¥–µ—Ä–µ—Ä–æ–≤ –≤ Game.js ‚úÖ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ —Ä–µ–Ω–¥–µ—Ä–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ `Game` –∏ –º–µ—Ç–æ–¥–µ `init()`

#### 5. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É `main.js` –∏ `Game.js` ‚úÖ
- **–ü—Ä–∏–º–µ—Ä**: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –∫–Ω–æ–ø–æ–∫ UI ‚úÖ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–¥–∞–ª–µ–Ω—ã –∏–∑ `main.js`, –æ—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –≤ `Game.js`

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- **–ò—Å—Ö–æ–¥–Ω—ã–π —Ä–∞–∑–º–µ—Ä main.js**: 808 —Å—Ç—Ä–æ–∫
- **–¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä main.js**: 10 —Å—Ç—Ä–æ–∫ ‚úÖ
- **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ**: 99% (798 —Å—Ç—Ä–æ–∫) ‚úÖ
- **–û—Å—Ç–∞–≤—à–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞**: 0 —Ñ—É–Ω–∫—Ü–∏–π ‚úÖ

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
1. **–í—ã—Å–æ–∫–∏–π**: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–≤—à–∞—è—Å—è –∑–∞–¥–∞—á–∞)
2. ~~**–í—ã—Å–æ–∫–∏–π**: –£–ø—Ä–æ—â–µ–Ω–∏–µ main.js –¥–æ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞~~ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
3. ~~**–°—Ä–µ–¥–Ω–∏–π**: –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–≤–µ—Ç–æ—Ñ–æ—Ä–æ–≤~~ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
4. ~~**–ù–∏–∑–∫–∏–π**: –£–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ä–µ–Ω–¥–µ—Ä–µ—Ä–æ–≤~~ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

## üéâ –î–û–°–¢–ò–ñ–ï–ù–ò–Ø –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê
- **main.js**: 808 ‚Üí 10 —Å—Ç—Ä–æ–∫ (99% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ!)
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è**: –í—Å—è –∏–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –≤ –∫–ª–∞—Å—Å–µ `Game`
- **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: main.js —Å—Ç–∞–ª —Ç–æ–Ω–∫–æ–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É**: –û—Å—Ç–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –æ—á–∏—Å—Ç–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
