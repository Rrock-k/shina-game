# –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–π

## üéØ –¶–µ–ª—å
–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥, –ø–µ—Ä–µ–Ω–µ—Å—è –≤—Å—é –ª–æ–≥–∏–∫—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –∏–≥—Ä–æ–≤—ã–º —Ü–∏–∫–ª–æ–º –∏–∑ `main.js` –≤ –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å `Game.js`, –∫–∞–∫ —ç—Ç–æ –±—ã–ª–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –≤ `docs/final-architecture.md`. `main.js` –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å —Ç–æ–Ω–∫–æ–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

## –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ (–ö—Ä–∏—Ç–∏—á–Ω–æ)

### 1.1 –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å Game.js ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª–∞—Å—Å–∞ Game —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –∏ –ø—É—Å—Ç—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ `start()` –∏ `update(delta)`
- **–§–∞–π–ª—ã**: `src/game/Game.js` (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ö–ª–∞—Å—Å Game —Å–æ–∑–¥–∞–Ω –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫.

### 1.2 –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Game.js –≤ main.js ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å Game –≤ `main.js` –∏ —Å–æ–∑–¥–∞—Ç—å –µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä `const game = new Game();`
- **–§–∞–π–ª—ã**: `src/main.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ü—Ä–æ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫. –í –∫–æ–Ω—Å–æ–ª–∏ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—É—Å—Ç–æ–º—É –æ–±—ä–µ–∫—Ç—É game.

## –≠—Ç–∞–ø 2: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–ö—Ä–∏—Ç–∏—á–Ω–æ)

### 2.1 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ PIXI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –∫–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ `setupApp()` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ Game
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `app` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–≤–æ–π—Å—Ç–≤–æ–º –∫–ª–∞—Å—Å–∞ `this.app`
- **–§–∞–π–ª—ã**: `src/main.js` ‚Üí `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: PIXI canvas –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –∫–∞–∫ `this.app`.

### 2.2 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ–µ–≤ ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–æ–µ–≤ (`gridLayer`, `roadsLayer` –∏ —Ç.–¥.) –∏–∑ `setupWorld()` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ Game
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`world`, `gridLayer`, `roadsLayer`, `decorLayer`, `zonesLayer`) —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –∫–ª–∞—Å—Å–∞
- **–§–∞–π–ª—ã**: `src/main.js` ‚Üí `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –í—Å–µ —Å–ª–æ–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ —Å–≤–æ–π—Å—Ç–≤–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ game.

### 2.3 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ (`TimeManager`, `PauseManager`, `DayNightManager`, `JournalManager`) –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Game.js`
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –û–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –∫–ª–∞—Å—Å–∞ (`this.timeManager`, `this.pauseManager`, `this.dayNightManager`, `this.journalManager`)
- **–§–∞–π–ª—ã**: `src/main.js` ‚Üí `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –í—Å–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä game.

### 2.4 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–Ω–¥–µ—Ä–µ—Ä–æ–≤ ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–Ω–¥–µ—Ä–µ—Ä–æ–≤ (`WorldRenderer`, `UIRenderer`) –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Game.js`
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –û–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –∫–ª–∞—Å—Å–∞ (`this.worldRenderer`, `this.uiRenderer`)
- **–§–∞–π–ª—ã**: `src/main.js` ‚Üí `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –†–µ–Ω–¥–µ—Ä–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä game. –ß–∞—Å—ã –Ω–∞ UI –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å.

### 2.5 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ Car ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ `carEntity` –∏–∑ `initEntities()` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Game.js`
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: `carEntity` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `this.carEntity`
- **–§–∞–π–ª—ã**: `src/main.js` ‚Üí `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ú–∞—à–∏–Ω–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ –≤ —Å–≤–æ–µ–π –Ω–∞—á–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏. –î–æ—Å—Ç—É–ø–Ω–∞ –∫–∞–∫ `this.carEntity`.

### 2.6 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ Shina ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ `shinaEntity` –∏–∑ `initEntities()` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Game.js`
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: `shinaEntity` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `this.shinaEntity`
- **–§–∞–π–ª—ã**: `src/main.js` ‚Üí `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –®–∏–Ω–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ. –î–æ—Å—Ç—É–ø–Ω–∞ –∫–∞–∫ `this.shinaEntity`.

## –≠—Ç–∞–ø 3: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ (–ö—Ä–∏—Ç–∏—á–Ω–æ)

### 3.1 –°–æ–∑–¥–∞—Ç—å –º–µ—Ç–æ–¥ Game.update() ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç–æ–π –º–µ—Ç–æ–¥ `update(delta)` –≤ –∫–ª–∞—Å—Å–µ Game
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–µ—Ç–æ–¥–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º delta
- **–§–∞–π–ª—ã**: `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ú–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫.

### 3.2 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤—ã–∑–æ–≤—ã `timeManager.update(delta)` –≤ –º–µ—Ç–æ–¥ `Game.update()`
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –Ω–∞ `this.timeManager`
- **–§–∞–π–ª—ã**: `src/main.js` ‚Üí `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –í—Ä–µ–º—è –≤ –∏–≥—Ä–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### 3.3 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤—ã–∑–æ–≤—ã `uiRenderer.update()` –≤ –º–µ—Ç–æ–¥ `Game.update()`
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –Ω–∞ `this.uiRenderer`
- **–§–∞–π–ª—ã**: `src/main.js` ‚Üí `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, —á–∞—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç.

### 3.4 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—à–∏–Ω—ã ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–∞—à–∏–Ω—ã –∏–∑ `updateCar()` –≤ –º–µ—Ç–æ–¥ `Game.update()`
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `carEntity` –Ω–∞ `this.carEntity`
- **–§–∞–π–ª—ã**: `src/main.js` ‚Üí `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ú–∞—à–∏–Ω–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –∏ —Å–ª–µ–¥–æ–≤–∞—Ç—å –ø–æ –º–∞—Ä—à—Ä—É—Ç—É.

### 3.5 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–º–µ–Ω—ã –¥–Ω—è/–Ω–æ—á–∏ ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤—ã–∑–æ–≤—ã `dayNightManager.update()` –≤ –º–µ—Ç–æ–¥ `Game.update()`
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –Ω–∞ `this.dayNightManager`
- **–§–∞–π–ª—ã**: `src/main.js` ‚Üí `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –°–º–µ–Ω–∞ –¥–Ω—è –∏ –Ω–æ—á–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### 3.6 –°–æ–∑–¥–∞—Ç—å –º–µ—Ç–æ–¥ Game.start() ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –í –∫–ª–∞—Å—Å–µ Game —Å–æ–∑–¥–∞—Ç—å –º–µ—Ç–æ–¥ `start()`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å `this.app.ticker.add((delta) => this.update(delta));`
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –í—ã–∑–≤–∞—Ç—å `game.start()` –≤ `main.js` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
- **–§–∞–π–ª—ã**: `src/game/Game.js`, `src/main.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ú–µ—Ç–æ–¥ start() —Å–æ–∑–¥–∞–Ω –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω.

### 3.7 –£–¥–∞–ª–∏—Ç—å app.ticker –∏–∑ main.js ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –≤—ã–∑–æ–≤—ã `app.ticker.add(...)` –∏–∑ `main.js`
- **–§–∞–π–ª—ã**: `src/main.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: app.ticker —É–¥–∞–ª–µ–Ω –∏–∑ main.js, –ø—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è.

### 3.8 –í—ã–∑–≤–∞—Ç—å game.start() –≤ main.js ‚úÖ (–í–´–ü–û–õ–ù–ï–ù–û)
- ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**: –í `main.js` –≤—ã–∑–≤–∞—Ç—å `game.start()` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
- **–§–∞–π–ª—ã**: `src/main.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ò–≥—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∏ –ø—Ä–µ–∂–¥–µ, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—è, —á—Ç–æ –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Å–æ–º Game.

## –≠—Ç–∞–ø 4: –ü–µ—Ä–µ–Ω–æ—Å –ª–æ–≥–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (–í–∞–∂–Ω–æ)

### 4.1 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—é nextDestination –∏–∑ main.js ‚ö†Ô∏è (–ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏—è `nextDestination` —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ `main.js` –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å Game.js
- ‚ö†Ô∏è **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –∫–ª–∞—Å—Å Game –∫–∞–∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥
- **–§–∞–π–ª—ã**: `src/main.js` (—Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ main.js.

### 4.2 –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é _nextDestination –≤ Game.js ‚ùå (–ù–ï –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ùå **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ Game.js
- **–§–∞–π–ª—ã**: `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –∫–ª–∞—Å—Å Game.

### 4.3 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—é checkArrival –∏–∑ main.js ‚ö†Ô∏è (–ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏—è `checkArrival` —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ `main.js` –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å Game.js
- ‚ö†Ô∏è **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –∫–ª–∞—Å—Å Game –∫–∞–∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥
- **–§–∞–π–ª—ã**: `src/main.js` (—Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ main.js.

### 4.4 –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é _checkArrival –≤ Game.js ‚ùå (–ù–ï –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ùå **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ Game.js
- **–§–∞–π–ª—ã**: `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –∫–ª–∞—Å—Å Game.

### 4.5 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—é updateStayTimer –∏–∑ main.js ‚ö†Ô∏è (–ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏—è `updateStayTimer` —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ `main.js` –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å Game.js
- ‚ö†Ô∏è **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –∫–ª–∞—Å—Å Game –∫–∞–∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥
- **–§–∞–π–ª—ã**: `src/main.js` (—Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ main.js.

### 4.6 –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é _updateStayTimer –≤ Game.js ‚ùå (–ù–ï –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ùå **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ Game.js
- **–§–∞–π–ª—ã**: `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –∫–ª–∞—Å—Å Game.

### 4.7 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≤–∞—Ç–∞—Ä–æ–∫ –∑–¥–∞–Ω–∏–π –∏–∑ main.js ‚ö†Ô∏è (–ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏–∏ `showBuildingAvatar` –∏ `hideBuildingAvatar` —Ä–∞–±–æ—Ç–∞—é—Ç –≤ `main.js`
- ‚ö†Ô∏è **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –∫–ª–∞—Å—Å Game –∫–∞–∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- **–§–∞–π–ª—ã**: `src/main.js` (—Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç, –Ω–æ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ main.js.

### 4.8 –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≤–∞—Ç–∞—Ä–æ–∫ –≤ Game.js ‚ùå (–ù–ï –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ùå **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Game.js
- **–§–∞–π–ª—ã**: `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –∫–ª–∞—Å—Å Game.

### 4.9 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—é saveCarStateForNextDestination –∏–∑ main.js ‚ö†Ô∏è (–ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏—è `saveCarStateForNextDestination` —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ `main.js`
- ‚ö†Ô∏è **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –∫–ª–∞—Å—Å Game –∫–∞–∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥
- **–§–∞–π–ª—ã**: `src/main.js` (—Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ main.js.

### 4.10 –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é _saveCarStateForNextDestination –≤ Game.js ‚ùå (–ù–ï –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ùå **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ Game.js
- **–§–∞–π–ª—ã**: `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –∫–ª–∞—Å—Å Game.

### 4.11 –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π –≤ Game.update() ‚ùå (–ù–ï –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ùå **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Game.js, –ø–æ—ç—Ç–æ–º—É –≤—ã–∑–æ–≤—ã –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- **–§–∞–π–ª—ã**: `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –∏–∑ main.js, –∞ –Ω–µ –∏–∑ Game.update().

### 4.12 –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ main.js ‚ùå (–ù–ï –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ùå **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Game.js, –ø–æ—ç—Ç–æ–º—É –Ω–µ —É–¥–∞–ª–µ–Ω—ã –∏–∑ main.js
- **–§–∞–π–ª—ã**: `src/main.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ main.js.

## –≠—Ç–∞–ø 5: –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–í–∞–∂–Ω–æ)

### 5.1 –ò–∑–º–µ–Ω–∏—Ç—å DayNightManager –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª–æ–µ–≤ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚è≥ (–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø)
- ‚è≥ **–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø**: –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `DayNightManager` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è PIXI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- ‚è≥ **–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø**: –£–±—Ä–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `window.world` –∏ –¥—Ä—É–≥–∏–º –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–ª–æ—è–º
- **–§–∞–π–ª—ã**: `src/game/DayNightManager.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ö–ª–∞—Å—Å DayNightManager –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

### 5.2 –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ DayNightManager –≤ Game.js ‚è≥ (–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø)
- ‚è≥ **–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø**: –í `Game.js`, –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `dayNightManager`, –ø–µ—Ä–µ–¥–∞—Ç—å –µ–º—É `this.world`, `this.decorLayer` –∏ —Ç.–¥.
- ‚è≥ **–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–ª–æ–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–§–∞–π–ª—ã**: `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: DayNightManager —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

### 5.3 –ò–∑–º–µ–Ω–∏—Ç—å UIRenderer –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–∞—à–∏–Ω—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚è≥ (–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø)
- ‚è≥ **–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø**: –£–¥–∞–ª–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `window.carEntity` –≤ `UIRenderer`
- ‚è≥ **–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø**: –ò–∑–º–µ–Ω–∏—Ç—å –º–µ—Ç–æ–¥ `update()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–∞—à–∏–Ω—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä
- **–§–∞–π–ª—ã**: `src/rendering/UIRenderer.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: UIRenderer –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

### 5.4 –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã UIRenderer.update() –≤ Game.js ‚è≥ (–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø)
- ‚è≥ **–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø**: –í `Game.js`, –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `uiRenderer.update()`, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞—à–∏–Ω—ã
- ‚è≥ **–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–§–∞–π–ª—ã**: `src/game/Game.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: UI (—Å—Ç–∞—Ç—É—Å —Ñ–∞—Ä, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—Ä—à—Ä—É—Ç–µ) –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞—à–∏–Ω—ã.

## –≠—Ç–∞–ø 6: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è (–ö—Ä–∏—Ç–∏—á–Ω–æ)

### 6.1 –£–¥–∞–ª–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚ö†Ô∏è (–ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û**: –ú–Ω–æ–≥–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `game.` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `game.timeManager`, `game.worldRenderer`)
- ‚ö†Ô∏è **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—Å–µ –µ—â–µ –æ–±—ä—è–≤–ª–µ–Ω—ã –≤ main.js (–Ω–∞–ø—Ä–∏–º–µ—Ä, `let world, gridLayer, roadsLayer...`)
- **–§–∞–π–ª—ã**: `src/main.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ - –º–Ω–æ–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–º–µ–Ω–µ–Ω—ã, –Ω–æ –Ω–µ –≤—Å–µ.

### 6.2 –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚ùå (–ù–ï –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ùå **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –∫–ª–∞—Å—Å Game, –ø–æ—ç—Ç–æ–º—É –Ω–µ —É–¥–∞–ª–µ–Ω—ã –∏–∑ main.js
- **–§–∞–π–ª—ã**: `src/main.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ main.js, —Ç–∞–∫ –∫–∞–∫ –Ω–µ –±—ã–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Game.js.

### 6.3 –£–ø—Ä–æ—Å—Ç–∏—Ç—å main.js –¥–æ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ ‚ùå (–ù–ï –í–´–ü–û–õ–ù–ï–ù–û)
- ‚ùå **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: main.js –≤—Å–µ –µ—â–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–Ω–æ–≥–æ –ª–æ–≥–∏–∫–∏ (801 —Å—Ç—Ä–æ–∫–∞)
- ‚ùå **–ù–ï –í–´–ü–û–õ–ù–ï–ù–û**: –§–∞–π–ª –Ω–µ —É–ø—Ä–æ—â–µ–Ω –¥–æ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞
- **–§–∞–π–ª—ã**: `src/main.js`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: main.js —Å–æ–¥–µ—Ä–∂–∏—Ç –º–Ω–æ–≥–æ –∫–æ–¥–∞, –Ω–µ —É–ø—Ä–æ—â–µ–Ω –¥–æ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞.

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### üî¥ –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫
- **–ù–∞—Ä—É—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞** - –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –ª–æ–≥–∏–∫–∏ –≤ `Game.update()` –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
  - *–ú–∏—Ç–∏–≥–∞—Ü–∏—è:* –¢—â–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±—ç–∫–∞–ø–∞ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —ç—Ç–∞–ø–∞ 3
- **–ü–æ—Ç–µ—Ä—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –∫–ª–∞—Å—Å –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å—Å—è –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
  - *–ú–∏—Ç–∏–≥–∞—Ü–∏—è:* –ü–æ—à–∞–≥–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `console.log` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

### üü° –°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫
- **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `DayNightManager` –∏ `UIRenderer` –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã
  - *–ú–∏—Ç–∏–≥–∞—Ü–∏—è:* –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ dependency injection
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  - *–ú–∏—Ç–∏–≥–∞—Ü–∏—è:* –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ –∏ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### üü¢ –ù–∏–∑–∫–∏–π —Ä–∏—Å–∫
- **–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏** - –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –∫–æ–¥–∞ –º–æ–≥—É—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –æ–ø–µ—á–∞—Ç–∫–∏
  - *–ú–∏—Ç–∏–≥–∞—Ü–∏—è:* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ IDE —Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º, –ª–∏–Ω—Ç–µ—Ä, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- [ ] –ò–∑—É—á–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `main.js` 
- [ ] –ü–æ–Ω—è—Ç–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- [ ] –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ò–≥—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

### –≠—Ç–∞–ø 1 - –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞
- [x] –ö–ª–∞—Å—Å `Game.js` —Å–æ–∑–¥–∞–Ω ‚úÖ
- [x] –ú–µ—Ç–æ–¥—ã `start()` –∏ `update(delta)` –¥–æ–±–∞–≤–ª–µ–Ω—ã ‚úÖ
- [x] –ò–º–ø–æ—Ä—Ç –≤ `main.js` —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- [x] –≠–∫–∑–µ–º–ø–ª—è—Ä `game` —Å–æ–∑–¥–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ ‚úÖ

### –≠—Ç–∞–ø 2 - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- [x] PIXI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ Game ‚úÖ
- [x] –í—Å–µ —Å–ª–æ–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ —Å–≤–æ–π—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–∞ ‚úÖ
- [x] –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ Game ‚úÖ
- [x] –†–µ–Ω–¥–µ—Ä–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ Game ‚úÖ
- [x] –°—É—â–Ω–æ—Å—Ç—å Car —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ Game ‚úÖ
- [x] –°—É—â–Ω–æ—Å—Ç—å Shina —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ Game ‚úÖ
- [ ] UI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –≠—Ç–∞–ø 3 - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
- [x] –ú–µ—Ç–æ–¥ `update(delta)` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –ª–æ–≥–∏–∫—É
- [x] –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `this.`
- [x] `app.ticker` –≤—ã–∑—ã–≤–∞–µ—Ç `Game.update()`
- [x] –î–≤–∏–∂–µ–Ω–∏–µ –º–∞—à–∏–Ω—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- [x] –°–º–µ–Ω–∞ –¥–Ω—è/–Ω–æ—á–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç

### –≠—Ç–∞–ø 4 - –ü–µ—Ä–µ–Ω–æ—Å –ª–æ–≥–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- [ ] –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Game –∫–∞–∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- [ ] –í—ã–∑–æ–≤—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ `this._methodName()`
- [x] –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –¢–∞–π–º–µ—Ä—ã –æ—Å—Ç–∞–Ω–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- [x] –ê–≤–∞—Ç–∞—Ä–∫–∏ –∑–¥–∞–Ω–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

### –≠—Ç–∞–ø 5 - –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [ ] `DayNightManager` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `window`
- [ ] `UIRenderer` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `window.carEntity`
- [ ] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- [ ] –ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –≠—Ç–∞–ø 6 - –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] `main.js` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –∏–º–ø–æ—Ä—Ç—ã –∏ –∑–∞–ø—É—Å–∫
- [ ] –í—Å–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã
- [ ] –§–∞–π–ª `main.js` –º–µ–Ω–µ–µ 10 —Å—Ç—Ä–æ–∫
- [x] –ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- [ ] –ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- **–í—Å–µ–≥–æ –∑–∞–¥–∞—á**: 28
- **–í—ã–ø–æ–ª–Ω–µ–Ω–æ**: 15 ‚úÖ
- **–ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ**: 6 ‚ö†Ô∏è
- **–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ**: 7 ‚ùå
- **–í –ø—Ä–æ—Ü–µ—Å—Å–µ**: 0

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –ö–∞–∂–¥—É—é –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é –∑–∞–¥–∞—á—É –æ—Ç–º–µ—á–∞—Ç—å –≥–∞–ª–æ—á–∫–æ–π [x]
- –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–¥–∞—á–µ
- –û–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
- –°–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—É –ø–æ—à–∞–≥–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)
- **–≠—Ç–∞–ø—ã 1-2**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω—ã ‚úÖ
- **–≠—Ç–∞–ø 3**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω ‚úÖ (–∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω)
- **–≠—Ç–∞–ø 4**: –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω ‚ö†Ô∏è (—Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ main.js, –Ω–æ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Game.js)
- **–≠—Ç–∞–ø 5**: –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω ‚ùå (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –æ—á–∏—â–µ–Ω—ã)
- **–≠—Ç–∞–ø 6**: –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω ‚ö†Ô∏è (–ø—Ä–æ–µ–∫—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω, –Ω–æ main.js –Ω–µ —É–ø—Ä–æ—â–µ–Ω)

**–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (nextDestination, checkArrival, updateStayTimer, showBuildingAvatar, hideBuildingAvatar, saveCarStateForNextDestination) —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ –æ—Å—Ç–∞—é—Ç—Å—è –≤ main.js –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–Ω–æ—Å–∞ –≤ Game.js –∫–∞–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å.

---

## üîß –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê –° –ü–†–û–ú–ï–ñ–£–¢–û–ß–ù–´–ú–ò –®–ê–ì–ê–ú–ò

### üìã –≠—Ç–∞–ø 4: –ü–µ—Ä–µ–Ω–æ—Å –ª–æ–≥–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (–†–ê–ó–ë–ò–¢ –ù–ê –ü–û–î–≠–¢–ê–ü–´)

#### 4A. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π —ç—Ç–∞–ø - –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
**4A.1** –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Ñ—É–Ω–∫—Ü–∏–π
- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç –∫–∞–∫–∏–µ –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø–µ—Ä–µ–Ω–æ—Å–∞ (–æ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∫ –∑–∞–≤–∏—Å–∏–º—ã–º)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `docs/function-dependencies.md` —Å –∫–∞—Ä—Ç–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**4A.2** –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å console.log –≤ –Ω–∞—á–∞–ª–æ –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤
- –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç —Å–≤–æ–∏ –≤—ã–∑–æ–≤—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

#### 4B. –ü–µ—Ä–µ–Ω–æ—Å –ø—Ä–æ—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö)
**4B.1** –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `updateStayTimer` (—Å–∞–º–∞—è –ø—Ä–æ—Å—Ç–∞—è)
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ Game.js –∫–∞–∫ `_updateStayTimer`
- –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `game.timeManager` –Ω–∞ `this.timeManager`
- –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `carEntity` –Ω–∞ `this.carEntity`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ Game

**4B.2** –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `saveCarStateForNextDestination` (–∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç carEntity)
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ Game.js –∫–∞–∫ `_saveCarStateForNextDestination`
- –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `carEntity` –Ω–∞ `this.carEntity`
- –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `carRenderer` –Ω–∞ `this.carRenderer`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ Game

#### 4C. –ü–µ—Ä–µ–Ω–æ—Å —Ñ—É–Ω–∫—Ü–∏–π –∞–≤–∞—Ç–∞—Ä–æ–∫ (—Å—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å)
**4C.1** –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `showBuildingAvatar`
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ Game.js –∫–∞–∫ `_showBuildingAvatar`
- –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `decorLayer` –Ω–∞ `this.decorLayer`
- –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `zoneGeometry` –Ω–∞ `this.zoneGeometry`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ê–≤–∞—Ç–∞—Ä–∫–∏ –∑–¥–∞–Ω–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**4C.2** –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `hideBuildingAvatar`
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ Game.js –∫–∞–∫ `_hideBuildingAvatar`
- –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `decorLayer` –Ω–∞ `this.decorLayer`
- –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `carRenderer` –Ω–∞ `this.carRenderer`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ê–≤–∞—Ç–∞—Ä–∫–∏ –∑–¥–∞–Ω–∏–π —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

#### 4D. –ü–µ—Ä–µ–Ω–æ—Å —Å–ª–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–∑–∞–≤–∏—Å–∏–º—ã—Ö)
**4D.1** –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `checkArrival` (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç saveCarStateForNextDestination)
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ Game.js –∫–∞–∫ `_checkArrival`
- –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –Ω–∞ `this.`
- –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤ `saveCarStateForNextDestination` –Ω–∞ `this._saveCarStateForNextDestination`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ü—Ä–∏–±—ã—Ç–∏–µ –≤ –ª–æ–∫–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**4D.2** –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `nextDestination` (—Å–∞–º–∞—è —Å–ª–æ–∂–Ω–∞—è, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö)
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ Game.js –∫–∞–∫ `_nextDestination`
- –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –Ω–∞ `this.`
- –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –≤—ã–∑–æ–≤—ã –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ `this._methodName()`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –ª–æ–∫–∞—Ü–∏—è–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

#### 4E. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Game.update()
**4E.1** –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π –≤ Game.update()
- –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ `this._updateStayTimer()` –≤ Game.update()
- –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ `this._checkArrival()` –≤ Game.update()
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –¢–∞–π–º–µ—Ä—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–±—ã—Ç–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑ Game.update()

**4E.2** –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã –≤ main.js
- –ó–∞–º–µ–Ω–∏—Ç—å –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π –≤ main.js –Ω–∞ `game._methodName()`
- –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ main.js
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –∏–∑ Game.js

#### 4F. –û—á–∏—Å—Ç–∫–∞ main.js
**4F.1** –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ main.js
- –£–¥–∞–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Game.js
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: main.js –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

### üìã –≠—Ç–∞–ø 5: –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–†–ê–ó–ë–ò–¢ –ù–ê –ü–û–î–≠–¢–ê–ü–´)

#### 5A. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π —ç—Ç–∞–ø - –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
**5A.1** –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å DayNightManager
- –ù–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `window.world`, `window.decorLayer`, etc.
- –°–æ–∑–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –°–æ–∑–¥–∞–Ω —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π DayNightManager

**5A.2** –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å UIRenderer
- –ù–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `window.carEntity`
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –°–æ–∑–¥–∞–Ω —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π UIRenderer

#### 5B. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ DayNightManager
**5B.1** –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä DayNightManager
- –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Å–ª–æ–µ–≤ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
- –£–±—Ä–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `window.world`, `window.decorLayer`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: DayNightManager –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

**5B.2** –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ DayNightManager –≤ Game.js
- –ü–µ—Ä–µ–¥–∞—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–ª–æ–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: DayNightManager —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

**5B.3** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ DayNightManager
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–æ—á–Ω–æ–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –°–º–µ–Ω–∞ –¥–Ω—è/–Ω–æ—á–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

#### 5C. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ UIRenderer
**5C.1** –ò–∑–º–µ–Ω–∏—Ç—å UIRenderer –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–∞—à–∏–Ω—ã
- –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä carEntity –≤ –º–µ—Ç–æ–¥ update()
- –£–±—Ä–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `window.carEntity`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: UIRenderer –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

**5C.2** –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã UIRenderer.update() –≤ Game.js
- –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å `this.carEntity` –≤ uiRenderer.update()
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**5C.3** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UIRenderer
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ UI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞—à–∏–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: UI —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

---

### üìã –≠—Ç–∞–ø 6: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è (–†–ê–ó–ë–ò–¢ –ù–ê –ü–û–î–≠–¢–ê–ü–´)

#### 6A. –ê–Ω–∞–ª–∏–∑ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –∫–æ–¥–∞ –≤ main.js
**6A.1** –°–æ–∑–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –æ—Å—Ç–∞–ª–∏—Å—å –≤ main.js
- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ Game.js
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –°–æ–∑–¥–∞–Ω —Å–ø–∏—Å–æ–∫ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Ñ—É–Ω–∫—Ü–∏–π

#### 6B. –ü–µ—Ä–µ–Ω–æ—Å –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Ñ—É–Ω–∫—Ü–∏–π
**6B.1** –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ Game.js
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `setupWorld()` –≤ Game.js –∫–∞–∫ `_setupWorld()`
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `createCar()` –≤ Game.js –∫–∞–∫ `_createCar()`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ Game.js

**6B.2** –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `getDestinationCenter()` –≤ Game.js
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `createTrafficLightsForAllIntersections()` –≤ Game.js
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑ Game.js

#### 6C. –£–¥–∞–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
**6C.1** –£–¥–∞–ª–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –£–¥–∞–ª–∏—Ç—å `let world, gridLayer, roadsLayer...` –∏–∑ main.js
- –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ `game.`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã

**6C.2** –£–¥–∞–ª–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏
- –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Game.js
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: main.js —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –∏–º–ø–æ—Ä—Ç—ã –∏ –∑–∞–ø—É—Å–∫

#### 6D. –£–ø—Ä–æ—â–µ–Ω–∏–µ main.js
**6D.1** –°–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π main.js
- –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏–º–ø–æ—Ä—Ç—ã –∏ `const game = new Game(); game.start();`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: main.js —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ–Ω–µ–µ 10 —Å—Ç—Ä–æ–∫

**6D.2** –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–≥—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω

---

## ‚ö†Ô∏è –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ë–ï–ó–û–ü–ê–°–ù–û–ú–£ –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–£

### üîí –ü—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
1. **–û–¥–∏–Ω —à–∞–≥ –∑–∞ —Ä–∞–∑** - –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø–æ–¥—ç—Ç–∞–ø –∑–∞ —Å–µ—Å—Å–∏—é
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞** - –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –∏–≥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **–°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤** - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —ç—Ç–∞–ø–æ–º
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–æ–±–∞–≤–ª—è—Ç—å console.log –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
1. **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –≠—Ç–∞–ø 4 (–ø–µ—Ä–µ–Ω–æ—Å —Ñ—É–Ω–∫—Ü–∏–π) - –æ—Å–Ω–æ–≤–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
2. **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –≠—Ç–∞–ø 5 (–æ—á–∏—Å—Ç–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π) - —É–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
3. **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –≠—Ç–∞–ø 6 (—Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è) - –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- –ò–≥—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ
- –ö–æ–¥ —Å—Ç–∞–ª –±–æ–ª–µ–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–º
- main.js —É–ø—Ä–æ—â–µ–Ω –¥–æ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞
